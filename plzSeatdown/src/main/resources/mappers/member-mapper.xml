<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="memberMapper">
	<!-- 
		1) mybatis-config.xml에 typeAlias, mapper 등록
		2) resultMap 만들기
		3) 쿼리문 작성
	 -->
	 <resultMap type="Member" id="memberResultSet">
	 	<!-- DB의 Primary Key -->
	 	<id property="memberNo" column="MEMBER_NO"/>
	 	
	 	<!-- DB의 일반 컬럼들 -->
	 	<result property="memberId" column="MEMBER_ID"/>
	 	<result property="memberPwd" column="MEMBER_PWD"/>
	 	<result property="memberName" column="MEMBER_NM"/>
	 	<result property="memberNickname" column="MEMBER_NICKNM"/>
	 	<result property="memberEmail" column="MEMBER_EMAIL"/>
	 	<result property="memberEmailCheck" column="MEMBER_EMAIL_CHECK"/>
	 	<result property="memberPhone" column="MEMBER_PHONE"/>
	 	<result property="memberEnrollDate" column="MEMBER_ENROLL_DT"/>
	 	<result property="memberReportCount" column="MEMBER_REPORT_CNT"/>
	 	<result property="memberStatus" column="MEMBER_STATUS"/>
	 	<result property="memberGrade" column="MEMBER_GRADE"/>
	 </resultMap>
	 
	 <!-- 로그인 -->
	 <select id="loginMember" parameterType="Member" resultMap="memberResultSet">
	 	SELECT *
	 	FROM MEMBER
	 	WHERE MEMBER_STATUS = 'Y'
	 	AND MEMBER_EMAIL_CHECK = 'Y'
	 	AND MEMBER_ID = #{memberId}
	 </select>
</mapper>
